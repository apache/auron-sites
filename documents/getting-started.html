<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" type="image/png" href="/logo-mini.png"><title>Getting-Started | Apache Auron (Incubating)</title><meta name="description" content="">
    <link rel="preload" href="/assets/style-C2sG9jTo.css" as="style"><link rel="stylesheet" href="/assets/style-C2sG9jTo.css">
    <link rel="modulepreload" href="/assets/app-7Yi8rA2S.js"><link rel="modulepreload" href="/assets/getting-started.html-BunK_cnF.js">
    <link rel="prefetch" href="/assets/index.html-XVKd7NVy.js" as="script"><link rel="prefetch" href="/assets/introduction.html-BkYY87IM.js" as="script"><link rel="prefetch" href="/assets/all-releases.html-DZPIIwAp.js" as="script"><link rel="prefetch" href="/assets/v4.0.0.html-1NJpX4Eb.js" as="script"><link rel="prefetch" href="/assets/v4.0.1.html-_IOmQdwh.js" as="script"><link rel="prefetch" href="/assets/v5.0.0.html-wX3RgbGw.js" as="script"><link rel="prefetch" href="/assets/benchmarks.html-Czk_M_vD.js" as="script"><link rel="prefetch" href="/assets/configuration.html-Bs9rZjsE.js" as="script"><link rel="prefetch" href="/assets/404.html-DwdzAXyN.js" as="script"><link rel="prefetch" href="/assets/BenchmarkChart-BdTA5Sy6.js" as="script"><link rel="prefetch" href="/assets/Footer-ddVI2aOi.js" as="script"><link rel="prefetch" href="/assets/GitHubBadge-DiPdGOyi.js" as="script"><link rel="prefetch" href="/assets/Head-tyzM7BkS.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="/logo-mini.png" alt="Apache Auron (Incubating)"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Apache Auron (Incubating)</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/introduction.html" aria-label="Introduction"><!---->Introduction<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Documentations"><span class="title">Documentations</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Documentations"><span class="title">Documentations</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/documents/getting-started.html" aria-label="Getting Started"><!---->Getting Started<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/documents/configuration.html" aria-label="Configuration"><!---->Configuration<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/documents/benchmarks.html" aria-label="Benchmarks"><!---->Benchmarks<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Archives"><span class="title">Archives</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Archives"><span class="title">Archives</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/archives/v5.0.0.html" aria-label="v5.0.0"><!---->v5.0.0<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/archives/v4.0.1.html" aria-label="v4.0.1"><!---->v4.0.1<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/archives/v4.0.0.html" aria-label="v4.0.0"><!---->v4.0.0<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/archives/all-releases.html" aria-label="All Archived Releases"><!---->All Archived Releases<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://www.apache.org/" aria-label="ASF" rel="noopener noreferrer" target="_blank"><!---->ASF<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/apache/auron" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><!----><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/introduction.html" aria-label="Introduction"><!---->Introduction<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Documentations"><span class="title">Documentations</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Documentations"><span class="title">Documentations</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/documents/getting-started.html" aria-label="Getting Started"><!---->Getting Started<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/documents/configuration.html" aria-label="Configuration"><!---->Configuration<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/documents/benchmarks.html" aria-label="Benchmarks"><!---->Benchmarks<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Archives"><span class="title">Archives</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Archives"><span class="title">Archives</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/archives/v5.0.0.html" aria-label="v5.0.0"><!---->v5.0.0<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/archives/v4.0.1.html" aria-label="v4.0.1"><!---->v4.0.1<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/archives/v4.0.0.html" aria-label="v4.0.0"><!---->v4.0.0<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/archives/all-releases.html" aria-label="All Archived Releases"><!---->All Archived Releases<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://www.apache.org/" aria-label="ASF" rel="noopener noreferrer" target="_blank"><!---->ASF<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/apache/auron" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/introduction.html" aria-label="Introduction"><!---->Introduction<!----></a><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">Documents <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/documents/getting-started.html" aria-label="Getting-Started"><!---->Getting-Started<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/documents/configuration.html" aria-label="Configurations"><!---->Configurations<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/documents/benchmarks.html" aria-label="Benchmarks"><!---->Benchmarks<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Archives <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/archives/v5.0.0.html" aria-label="v5.0.0"><!---->v5.0.0<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/archives/v4.0.1.html" aria-label="v4.0.1"><!---->v4.0.1<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/archives/v4.0.0.html" aria-label="v4.0.0"><!---->v4.0.0<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/archives/all-releases.html" aria-label="All Archived Releases"><!---->All Archived Releases<!----></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><h1 id="getting-started-with-auron-for-apache-spark" tabindex="-1"><a class="header-anchor" href="#getting-started-with-auron-for-apache-spark"><span>Getting Started with Auron for Apache Spark</span></a></h1><h2 id="build-from-source" tabindex="-1"><a class="header-anchor" href="#build-from-source"><span>Build from source</span></a></h2><p>To build Auron from source, follow the steps below:</p><ol><li>Install Rust</li></ol><p>Auron&#39;s native execution lib is written in Rust. You need to install Rust (nightly) before compiling.</p><p>We recommend using <a href="https://rustup.rs/" target="_blank" rel="noopener noreferrer">rustup</a> for installation.</p><ol start="2"><li>Install JDK</li></ol><p>Auron has been well tested with JDK 8, 11, and 17.</p><p>Make sure <code>JAVA_HOME</code> is properly set and points to your desired version.</p><ol start="3"><li><p>Check out the source code.</p></li><li><p>Build the project.</p></li></ol><p>You can build Auron either <em>locally</em> or <em>inside Docker with CentOS7</em> using a unified script: <code>auron-build.sh</code>.</p><p>Run <code>./auron-build.sh --help</code> to see all available options.</p><p>After the build completes, a fat JAR with all dependencies will be generated in either the <code>target/</code> directory (for local builds) or <code>target-docker/</code> directory (for Docker builds), depending on the selected build mode.</p><h2 id="run-spark-job-with-auron-accelerator" tabindex="-1"><a class="header-anchor" href="#run-spark-job-with-auron-accelerator"><span>Run Spark Job with Auron Accelerator</span></a></h2><p>This section describes how to submit and configure a Spark Job with Auron support.</p><ol><li><p>Move the Auron JAR to the Spark client classpath (normally spark-xx.xx.xx/jars/).</p></li><li><p>Add the following configs to spark configuration in <code>spark-xx.xx.xx/conf/spark-default.conf</code>:</p></li></ol><div class="language-properties line-numbers-mode" data-highlighter="prismjs" data-ext="properties" data-title="properties"><pre><code><span class="line"><span class="token key attr-name">spark.auron.enable</span> <span class="token value attr-value">true</span></span>
<span class="line"><span class="token key attr-name">spark.sql.extensions</span> <span class="token value attr-value">org.apache.spark.sql.auron.AuronSparkSessionExtension</span></span>
<span class="line"><span class="token key attr-name">spark.shuffle.manager</span> <span class="token value attr-value">org.apache.spark.sql.execution.auron.shuffle.AuronShuffleManager</span></span>
<span class="line"><span class="token key attr-name">spark.memory.offHeap.enabled</span> <span class="token value attr-value">false</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># suggested executor memory configuration</span></span>
<span class="line"><span class="token key attr-name">spark.executor.memory</span> <span class="token value attr-value">4g</span></span>
<span class="line"><span class="token key attr-name">spark.executor.memoryOverhead</span> <span class="token value attr-value">4096</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>submit a query with spark-sql, or other tools like spark-thriftserver:</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">spark-sql <span class="token parameter variable">-f</span> tpcds/q01.sql</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="integrating-auron-with-remote-shuffle-services-rss" tabindex="-1"><a class="header-anchor" href="#integrating-auron-with-remote-shuffle-services-rss"><span>Integrating Auron with Remote Shuffle Services (RSS)</span></a></h2><p>Auron can be integrated with external Remote Shuffle Services to enhance shuffle performance and improve scalability.</p><p>Currently, the following versions are supported: <code>Apache Celeborn</code> ( <em>0.5.4</em> and <em>0.6</em> ), and <code>Apache Uniffle</code> ( <em>0.9.2</em> ).</p><h3 id="apache-celeborn" tabindex="-1"><a class="header-anchor" href="#apache-celeborn"><span>Apache Celeborn</span></a></h3><p>Auron can work with Celeborn as a shuffle manager. Integration involves configuring Auron/Spark to use the AuronCelebornShuffleManager and pointing it to the appropriate Celeborn master endpoints and storage locations. This allows Spark jobs running on Auron to leverage Celeborn for distributed shuffling.</p><p>You can integrate using the following example configuration:</p><div class="language-properties line-numbers-mode" data-highlighter="prismjs" data-ext="properties" data-title="properties"><pre><code><span class="line"><span class="token key attr-name">spark.shuffle.manager</span> <span class="token value attr-value">org.apache.spark.sql.execution.auron.shuffle.celeborn.AuronCelebornShuffleManager</span></span>
<span class="line"><span class="token key attr-name">spark.serializer</span> <span class="token value attr-value">org.apache.spark.serializer.KryoSerializer</span></span>
<span class="line"><span class="token key attr-name">spark.celeborn.master.endpoints</span> <span class="token value attr-value">localhost:9097</span></span>
<span class="line"><span class="token key attr-name">spark.celeborn.client.spark.shuffle.writer</span> <span class="token value attr-value">hash</span></span>
<span class="line"><span class="token key attr-name">spark.sql.adaptive.localShuffleReader.enabled</span> <span class="token value attr-value">false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="apache-uniffle" tabindex="-1"><a class="header-anchor" href="#apache-uniffle"><span>Apache Uniffle</span></a></h3><p>Similarly, Auron also supports Uniffle, you need to configure Auron/Spark to use the AuronUniffleShuffleManager and specify the Uniffle coordinator endpoints.</p><p>You can integrate using the following example configuration:</p><div class="language-properties line-numbers-mode" data-highlighter="prismjs" data-ext="properties" data-title="properties"><pre><code><span class="line"><span class="token key attr-name">spark.shuffle.manager</span> <span class="token value attr-value">org.apache.spark.sql.execution.auron.shuffle.uniffle.AuronUniffleShuffleManager</span></span>
<span class="line"><span class="token key attr-name">spark.serializer</span> <span class="token value attr-value">org.apache.spark.serializer.KryoSerializer</span></span>
<span class="line"><span class="token key attr-name">spark.rss.coordinator.quorum</span> <span class="token value attr-value">&lt;coordinatorIp1&gt;:19999,&lt;coordinatorIp2&gt;:19999</span></span>
<span class="line"><span class="token key attr-name">spark.rss.enabled</span> <span class="token value attr-value">true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="notes" tabindex="-1"><a class="header-anchor" href="#notes"><span>Notes</span></a></h3><ol><li><p>Ensure the relevant RSS client JARs are included in your Spark application&#39;s classpath.</p></li><li><p>Replace endpoints and directories with the actual addresses in your cluster.</p></li><li><p>For detailed setup and advanced configuration, refer to the official documentation for the respective:</p><ul><li><a href="https://celeborn.apache.org/docs/latest/" target="_blank" rel="noopener noreferrer">Celeborn</a></li><li><a href="https://uniffle.apache.org/docs/client-guide" target="_blank" rel="noopener noreferrer">Uniffle</a></li></ul></li></ol></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav" aria-label="page navigation"><!----><a class="route-link auto-link next" href="/documents/configuration.html" aria-label="Configurations"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>Configurations</span></div></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-7Yi8rA2S.js" defer></script>
  </body>
</html>
